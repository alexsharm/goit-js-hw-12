{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst galleryLightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n  gallery.innerHTML = '';\n  loader.classList.remove('is-hidden');\n\n  async function getPhotos() {\n    const response = await axios.get(`https://pixabay.com/api/`, {\n      params: {\n        key: '41849912-0888eabd10c40a0c420151dd5',\n        q: evt.target.elements.search.value.trim(),\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    });\n    return response.data;\n  }\n\n  getPhotos()\n    .then(data => {\n      loader.classList.add('is-hidden');\n      if (data.hits.length === 0) {\n        const errorAlert = iziToast.error({\n          message:\n            'Sorry, there are no images matching <br> your search query. Please try again!',\n          position: 'topRight',\n          class: 'error-alert',\n        });\n      } else {\n        const htmlMarkup = data.hits\n          .map(\n            image =>\n              `\n        <li class=\"gallery-item\">\n         <a href=\"${image.largeImageURL}\">\n             <img class='gallery-image' src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n         </a>\n        <div class=\"info-cont\">\n          <div class=\"info-item\">\n            <h4><b>Likes</b></h4>\n            <p>${image.likes}</p>\n          </div>\n          <div class=\"info-item\">\n            <h4><b>Views</b></h4>\n            <p>${image.views}</p>\n          </div>\n          <div class=\"info-item\">\n            <h4><b>Comments</b></h4>\n            <p>${image.comments}</p>\n          </div>\n          <div class=\"info-item\">\n            <h4><b>Downloads</b></h4>\n            <p>${image.downloads}</p>\n          </div>\n        </div>\n        </li>\n              `\n          )\n          .join('');\n        gallery.insertAdjacentHTML('beforeend', htmlMarkup);\n        galleryLightbox.refresh();\n      }\n      evt.target.reset();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n"],"names":["form","gallery","loader","galleryLightbox","SimpleLightbox","handleSubmit","evt","getPhotos","axios","data","iziToast","htmlMarkup","image","error"],"mappings":"owBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAkB,IAAIC,EAAe,aAAc,CACvD,aAAc,KAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAClBL,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,WAAW,EAEnC,eAAeK,GAAY,CAUzB,OATiB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAK,qCACL,EAAGF,EAAI,OAAO,SAAS,OAAO,MAAM,KAAM,EAC1C,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,GACe,IACjB,CAEDC,EAAW,EACR,KAAKE,GAAQ,CAEZ,GADAP,EAAO,UAAU,IAAI,WAAW,EAC5BO,EAAK,KAAK,SAAW,EACJC,EAAS,MAAM,CAChC,QACE,gFACF,SAAU,WACV,MAAO,aACjB,CAAS,MACI,CACL,MAAMC,EAAaF,EAAK,KACrB,IACCG,GACE;AAAA;AAAA,oBAEMA,EAAM;AAAA,+CACqBA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKhEA,EAAM;AAAA;AAAA;AAAA;AAAA,iBAINA,EAAM;AAAA;AAAA;AAAA;AAAA,iBAINA,EAAM;AAAA;AAAA;AAAA;AAAA,iBAINA,EAAM;AAAA;AAAA;AAAA;AAAA,eAKZ,EACA,KAAK,EAAE,EACVX,EAAQ,mBAAmB,YAAaU,CAAU,EAClDR,EAAgB,QAAO,CACxB,CACDG,EAAI,OAAO,OACjB,CAAK,EACA,MAAMO,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL"}